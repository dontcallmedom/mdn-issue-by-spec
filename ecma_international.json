{
    "version": "https://jsonfeed.org/version/1",
    "title": "Ecma International-relevant MDN issues",
    "home_page_url": "https://dontcallmedom.github.io/mdn-issue-by-spec/ecma_international.rss",
    "description": "Issue filed on MDN Web Docs related to pages attached to technologies developed by Ecma International",
    "author": {
        "name": "mdn-issue-by-spec",
        "url": "https://github.com/dontcallmedom/mdn-issue-by-spec"
    },
    "items": [
        {
            "id": "https://github.com/mdn/content/issues/29673",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Example for the function one in the private property section is incorrect</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">This example in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy#no_private_property_forwarding\" rel=\"nofollow\">No private property forwarding</a> causes misleading.</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class Secret {\n  #x = 1;\n  x() {\n    return this.#x;\n  }\n}\n\nconst aSecret = new Secret();\nconst proxy = new Proxy(aSecret, {\n  get(target, prop, receiver) {\n    const value = target[prop];\n    if (value instanceof Function) {\n      return function (...args) {\n        return value.apply(this === receiver ? target : this, args); //!&lt;&lt;&lt; here is incorrect;\n      };\n    }\n    return value;\n  },\n});\nconsole.log(proxy.x());\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">Secret</span> <span class=\"pl-kos\">{</span>\n  #<span class=\"pl-c1\">x</span> <span class=\"pl-c1\">=</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-en\">x</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">this</span><span class=\"pl-kos\">.</span>#<span class=\"pl-c1\">x</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">aSecret</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Secret</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">proxy</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Proxy</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">aSecret</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">target</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">prop</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">receiver</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">const</span> <span class=\"pl-s1\">value</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">target</span><span class=\"pl-kos\">[</span><span class=\"pl-s1\">prop</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-k\">if</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span> <span class=\"pl-k\">instanceof</span> <span class=\"pl-v\">Function</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-k\">return</span> <span class=\"pl-k\">function</span> <span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-k\">return</span> <span class=\"pl-s1\">value</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">apply</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">this</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s1\">receiver</span> ? <span class=\"pl-s1\">target</span> : <span class=\"pl-smi\">this</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">//!&lt;&lt;&lt; here is incorrect;</span>\n      <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">value</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">proxy</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">x</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">It should be <code class=\"notranslate\">...args</code>, not <code class=\"notranslate\">args</code>. Otherwise, the function cannot receive the correct function inputs.</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"alue.apply(this === receiver ? target : this, ...args);\"><pre class=\"notranslate\"><span class=\"pl-s1\">alue</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">apply</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">this</span> <span class=\"pl-c1\">===</span> <span class=\"pl-s1\">receiver</span> ? <span class=\"pl-s1\">target</span> : <span class=\"pl-smi\">this</span><span class=\"pl-kos\">,</span> ...<span class=\"pl-s1\">args</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/global_objects/proxy</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/proxy/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/proxy/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/fb85334ffa4a2c88d209b1074909bee0e0abd57a/hovercard\" href=\"https://github.com/mdn/content/commit/fb85334ffa4a2c88d209b1074909bee0e0abd57a\"><tt>fb85334</tt></a></li>\n<li>Document last modified: 2023-09-25T07:33:31.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/29673",
            "title": "[ecmascript] Proxy example in the `No private property forwarding` section looks incorrect",
            "date_modified": "2023-10-17T03:46:43.000Z",
            "author": {
                "name": "yiskang",
                "url": "https://github.com/yiskang"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/29572",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">That page mention import assertions, with the <code class=\"notranslate\">import ... assert { ... }</code> syntax.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">The proposal has been renamed to \"import attributes\", and the keyword has been replaced from <code class=\"notranslate\">assert</code> to <code class=\"notranslate\">with</code>. <code class=\"notranslate\">assert</code> is now \"deprecated and should not be relied upon\".</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://tc39.es/proposal-import-attributes/\" rel=\"nofollow\">https://tc39.es/proposal-import-attributes/</a>, specifically <a href=\"https://tc39.es/proposal-import-attributes/#sec-deprecated-assert-keyword-for-import-attributes\" rel=\"nofollow\">https://tc39.es/proposal-import-attributes/#sec-deprecated-assert-keyword-for-import-attributes</a>.</p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\">Chrome is the only browser implementing <code class=\"notranslate\">assert</code> (and V8-based platforms).</p>\n<p dir=\"auto\">Chrome implements <code class=\"notranslate\">with</code> under a flag (and V8-based platforms), Safari implements <code class=\"notranslate\">with</code> in TP and Firefox is implementing it.</p>\n<p dir=\"auto\">The proposal update comes also with some semantic changes, however these details have never been documented so there is no change needed to the docs:</p>\n<ul dir=\"auto\">\n<li>invalid attribute keys are now disallowed, rather than silently ignored</li>\n<li>JSON and CSS modules are fetched with the appropriate HTTP headers (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1787684142\" data-permission-text=\"Title is private\" data-url=\"https://github.com/whatwg/html/issues/9486\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/whatwg/html/pull/9486/hovercard\" href=\"https://github.com/whatwg/html/pull/9486\">whatwg/html#9486</a>)</li>\n</ul>",
            "url": "https://github.com/mdn/content/issues/29572",
            "title": "[ecmascript] Import assertions proposal renamed to import attributes",
            "date_modified": "2023-10-10T08:50:02.000Z",
            "author": {
                "name": "nicolo-ribaudo",
                "url": "https://github.com/nicolo-ribaudo"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/29489",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions#method_definitions_in_classes\" rel=\"nofollow\">Method definitions in classes</a></p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\"><em>From my perspective</em>, this is incomplete:</p>\n<blockquote>\n<p dir=\"auto\">Public instance methods are defined on the prototype property of the class and are thus shared by all instances of the class. They are writable, non-enumerable, and configurable.</p>\n</blockquote>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">I'm browsing the documentation because I'm trying to learn the difference between these two:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class ClassWithPublicInstanceMethod {\n  publicMethod() {\n    return &quot;hello world&quot;;\n  }\n}\n\nconst objectLiteralMethod = {\n  publicMethod() {\n    return &quot;hello world&quot;;\n  }\n}\"><pre class=\"notranslate\"><span class=\"pl-k\">class</span> <span class=\"pl-v\">ClassWithPublicInstanceMethod</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">publicMethod</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s\">\"hello world\"</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">objectLiteralMethod</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-en\">publicMethod</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-s\">\"hello world\"</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\">But as far as I can tell, the article only explains this for classes. If it mentions how this works on object literals, none of the following section names imply that. This also seems like the most appropriate article for this information; if it's documented elsewhere, I'm not sure where else to look.</p>\n<p dir=\"auto\">I found some information in another page: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#method_definitions\" rel=\"nofollow\">Object initializer</a>. It doesn't answer my question, but maybe it could be linked to and/or updated to include the answer instead? I don't prefer the latter: I wouldn't expect the information to be there when there's another article title \"Method definitions.\"</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\">n/a</p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\">It might make sense to create a whole new section for this information? This section is called \"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions#method_definitions_in_classes\" rel=\"nofollow\">Method definitions in classes</a>\", but I'm looking for information regarding \"Method definitions in object literals.\"</p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/functions/method_definitions</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/functions/method_definitions/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/functions/method_definitions/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/4f86aad2b0b66c0d2041354ec81400c574ab56ca/hovercard\" href=\"https://github.com/mdn/content/commit/4f86aad2b0b66c0d2041354ec81400c574ab56ca\"><tt>4f86aad</tt></a></li>\n<li>Document last modified: 2023-09-12T03:52:28.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/29489",
            "title": "[ecmascript] Include information/section on \"Method definitions in object literals\"",
            "date_modified": "2023-10-05T00:01:28.000Z",
            "author": {
                "name": "DanKaplanSES",
                "url": "https://github.com/DanKaplanSES"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/28795",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Control flow effects of await</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">When an await is encountered in code (either in an async function or in a module), the awaited expression is executed, while all code that depends on the expression's value is paused and pushed into the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Event_loop\" rel=\"nofollow\">microtask queue</a>. The main thread is then freed for the next task in the event loop...</p>\n<p dir=\"auto\">For me, <em><strong>The main thread is then freed for the next task in the event loop</strong></em>, sounds like that next task from macrotask queue will be executed before any microtask that was pushed into the microtask queue.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">The main thread is then freed for the next task in the event loop which will be executed after any microtask e.g. code that depends on the expression's value.</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://javascript.info/event-loop#macrotasks-and-microtasks\" rel=\"nofollow\">https://javascript.info/event-loop#macrotasks-and-microtasks</a></p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/operators/await</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/3c33463072905e81ac620dd9780313369029b498/hovercard\" href=\"https://github.com/mdn/content/commit/3c33463072905e81ac620dd9780313369029b498\"><tt>3c33463</tt></a></li>\n<li>Document last modified: 2023-06-29T17:06:46.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/28795",
            "title": "[ecmascript] Macrotasks and Microtasks",
            "date_modified": "2023-08-28T09:55:38.000Z",
            "author": {
                "name": "a-brcic",
                "url": "https://github.com/a-brcic"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/25569",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Examples</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">The examples access values from WebAssembly using <code class=\"notranslate\">new Uint32Array</code>:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  const summands = new Uint32Array(memory.buffer);\n...\n  const values = new Uint32Array(obj.instance.exports.memory.buffer);\"><pre class=\"notranslate\">  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">summands</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Uint32Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">memory</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">buffer</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n...\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">values</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Uint32Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">instance</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">exports</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">memory</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">buffer</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">However in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array\" rel=\"nofollow\">Uint32Array docs</a> it says:</p>\n<blockquote>\n<p dir=\"auto\">The Uint32Array typed array represents an array of 32-bit unsigned integers in the platform byte order. If control over byte order is needed, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\" rel=\"nofollow\">DataView</a> instead.</p>\n</blockquote>\n<p dir=\"auto\">(This is backed up by the ECMAScript spec: <a href=\"https://tc39.es/ecma262/#sec-properties-of-typedarray-instances\" rel=\"nofollow\">Typed Arrays are integer-indexed exotic objects</a>, <a href=\"https://tc39.es/ecma262/#sec-integer-indexed-exotic-objects-get-p-receiver\" rel=\"nofollow\">which have the [[Get]] internal method</a>, which calls <a href=\"https://tc39.es/ecma262/#sec-integerindexedelementget\" rel=\"nofollow\">IntegerIndexedElementGet</a>, which calls <a href=\"https://tc39.es/ecma262/#sec-getvaluefrombuffer\" rel=\"nofollow\">GetValueFromBuffer</a>, which uses the platforms endianness in steps 8 and 9.)</p>\n<p dir=\"auto\">However the <a href=\"https://webassembly.github.io/spec/core/syntax/instructions.html?highlight=endian#memory-instructions\" rel=\"nofollow\">WebAssembly docs</a> say:</p>\n<blockquote>\n<p dir=\"auto\">All values are read and written in <em><strong>little endian</strong></em> byte order.</p>\n</blockquote>\n<p dir=\"auto\">So it appears that the example will return incorrect results on big-endian systems.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">An example using a <code class=\"notranslate\">DataView.setInt32(byteOffset, value, littleEndian)</code> instead.</p>\n<p dir=\"auto\">Exposing endian-ness like this has worrying implications for web page portability.<br>\nIf this is a real portability pitfall, there should be warnings about it on the WebAssembly.memory and TypedArray pages.</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\">I've already seen this pattern proliferating in several other places, such as:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://crates.io/crates/wasm-bindgen\" rel=\"nofollow\">wasm-bindgen</a> (I think)</li>\n<li>Tutorials <a href=\"https://ariya.io/2019/05/basics-of-memory-access-in-webassembly\" rel=\"nofollow\">1</a> <a href=\"https://www.oreilly.com/library/view/webassembly-the-definitive/9781492089834/ch04.html\" rel=\"nofollow\">2</a> <a href=\"https://rob-blackbourn.github.io/blog/webassembly/wasm/array/arrays/javascript/c/2020/06/07/wasm-arrays.html\" rel=\"nofollow\">3</a></li>\n<li>Questions <a href=\"https://groups.google.com/g/teavm/c/BlO4lkGNi40\" rel=\"nofollow\">1</a> <a href=\"https://stackoverflow.com/questions/41875728/pass-a-javascript-array-as-argument-to-a-webassembly-function\" rel=\"nofollow\">2</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API\" rel=\"nofollow\">MDN: Using the WebAssembly Javascript API</a></li>\n<li><a href=\"https://webassembly.org/getting-started/js-api/\" rel=\"nofollow\">webassembly.org: Understanding the JS API</a></li>\n</ul>\n<p dir=\"auto\">So the amount of code already using this buggy pattern is already probably quite large.</p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\">Perhaps javascript could use a <code class=\"notranslate\">LittleEndianTypedArray</code> or similar. And maybe <code class=\"notranslate\">new Uint32Array(wasmmemory.buffer)</code> should throw a type error, only allowing <code class=\"notranslate\">Uint8Array</code> and <code class=\"notranslate\">Int8Array</code>.</p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/webassembly/javascript_interface/memory</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/webassembly/javascript_interface/memory/index.md\">https://github.com/mdn/content/blob/main/files/en-us/webassembly/javascript_interface/memory/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/fe898ddf33314ee129256c3862c5c53106eeec1f/hovercard\" href=\"https://github.com/mdn/content/commit/fe898ddf33314ee129256c3862c5c53106eeec1f\"><tt>fe898dd</tt></a></li>\n<li>Document last modified: 2023-02-23T10:05:41.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/25569",
            "title": "[ecmascript] Accessing WebAssembly memory using TypedArrays is incorrect on Big Endian systems",
            "date_modified": "2023-03-23T12:09:31.000Z",
            "author": {
                "name": "majaha",
                "url": "https://github.com/majaha"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/24177",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Control flow effects of await</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<blockquote>\n<p dir=\"auto\">...all code that depends on the expression's value is paused and pushed into the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\" rel=\"nofollow\">microtask queue</a>.</p>\n</blockquote>\n<p dir=\"auto\"><code class=\"notranslate\">await</code> does not inherently push anything into the microtask queue, at least not unless the promise being awaited is already settled.  The microtask queue is where promise tasks go after the promise is settled. <code class=\"notranslate\">await</code> simply pauses the function. The microtask of resuming the function is added to the queue when the promise ultimately settles.</p>\n<p dir=\"auto\">The \"microtask queue\" link to the EventLoop page also has no mention of the microtask queue.</p>\n<blockquote>\n<p dir=\"auto\">The main thread is then freed for the next task in the event loop. This happens even if the awaited value is an already-resolved promise or not a promise.</p>\n</blockquote>\n<p dir=\"auto\">This only happens if the promise is not already settled (or does not get settled within further execution of the current task). If settled, function continuation is added to the microtask queue and the current task of the event loop continues to run until its microtask queue is empty.  You can create an event loop-blocking async function demonstrating this</p>\n<div class=\"highlight highlight-source-ts notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// blocks the event loop\nasync function loop(){\n  await Promise.resolve()\n  loop()\n}\nloop()\"><pre class=\"notranslate\"><span class=\"pl-c\">// blocks the event loop</span>\n<span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">resolve</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Despite the use of await, the main thread is not freed to run the next task.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">A more accurate description await and its interactions with the task and microtask queues.</p>\n<p dir=\"auto\"><del>The microtask link is probably better directed to:</del><br>\n<del><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide</a></del><br>\n(see comment below)</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide</a></p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/operators/await</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/0e1f404f68142031b8f8d663af15ed6902352256/hovercard\" href=\"https://github.com/mdn/content/commit/0e1f404f68142031b8f8d663af15ed6902352256\"><tt>0e1f404</tt></a></li>\n<li>Document last modified: 2022-12-27T01:31:43.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/24177",
            "title": "[ecmascript] Misleading information around await's interaction with microtask/task queues",
            "date_modified": "2023-02-05T16:19:19.000Z",
            "author": {
                "name": "senocular",
                "url": "https://github.com/senocular"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/5006",
            "content_html": "<p dir=\"auto\">MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a></p>\n<h4 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h4>\n<p dir=\"auto\">I didn't know where exactly to post the issue. I went for \"this\" cause the value of \"this\" is strictly related to the execution context.</p>\n<h4 dir=\"auto\">Specific section or headline?</h4>\n<h4 dir=\"auto\">What did you expect to see?</h4>\n<h4 dir=\"auto\">Did you test this? If so, how?</h4>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/operators/this</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/this/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/this/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/13360cbad46b4ce6457f80492d73d2efd252e8a9/hovercard\" href=\"https://github.com/mdn/content/commit/13360cbad46b4ce6457f80492d73d2efd252e8a9\"><tt>13360cb</tt></a></li>\n<li>Document last modified: 2021-05-05T10:31:52.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/5006",
            "title": "[ecmascript] Need a page on Execution context",
            "date_modified": "2021-05-14T18:14:38.000Z",
            "author": {
                "name": "552020",
                "url": "https://github.com/552020"
            }
        }
    ]
}