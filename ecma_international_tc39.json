{
    "version": "https://jsonfeed.org/version/1",
    "title": "Ecma International TC39-relevant MDN issues",
    "home_page_url": "https://dontcallmedom.github.io/mdn-issue-by-spec/ecma_international_tc39.rss",
    "description": "Issue filed on MDN Web Docs related to pages attached to technologies developed by Ecma International TC39",
    "author": {
        "name": "mdn-issue-by-spec",
        "url": "https://github.com/dontcallmedom/mdn-issue-by-spec"
    },
    "items": [
        {
            "id": "https://github.com/mdn/content/issues/26486",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Notes on cleanup callbacks</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">The documentation does not say anything about the thread that will run the callbacks.</p>\n<p dir=\"auto\">It is very important because until the main thread \"yields\", they cannot run. And if the main thread never yields, they can only run at the end.<br>\nThis has been confirmed both in node and deno.</p>\n<p dir=\"auto\">Basically, without repeated calls to <code class=\"notranslate\">setTimeout</code>, the callbacks never run.</p>\n<p dir=\"auto\">I think it is a fundamental piece of information, even considering all the disclaimers.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<ol dir=\"auto\">\n<li>information about the need of some sort of pause in the main thread</li>\n<li>a complete example</li>\n</ol>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://github.com/orgs/nodejs/discussions/47716\">https://github.com/orgs/nodejs/discussions/47716</a></p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/global_objects/finalizationregistry</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/finalizationregistry/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/global_objects/finalizationregistry/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/7da0dabee277f9c295178ae132c16c8fed5d747a/hovercard\" href=\"https://github.com/mdn/content/commit/7da0dabee277f9c295178ae132c16c8fed5d747a\"><tt>7da0dab</tt></a></li>\n<li>Document last modified: 2023-03-29T16:29:26.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/26486",
            "title": "[ecmascript] FinalizationRegistry: missing example and lack of clarity on \"threads\"",
            "date_modified": "2023-04-28T20:00:14.000Z",
            "author": {
                "name": "audetto",
                "url": "https://github.com/audetto"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/26110",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Different ways of creating and mutating prototype chains</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">Classes in the part \"<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain#different_ways_of_creating_and_mutating_prototype_chains\" rel=\"nofollow\">Different ways of creating and mutating prototype chains</a>\". First, the class <code class=\"notranslate\">Polygon</code> should be called <code class=\"notranslate\">Rectangle</code>, as it has only width and height. Second, more important, <code class=\"notranslate\">Square extends Rectangle</code> is a <a href=\"https://en.wikipedia.org/wiki/Circle%E2%80%93ellipse_problem\" rel=\"nofollow\">classic OOP problem</a> which violates the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle </a>. By including it in the documentation, the incorrect usage is being spread among the developers.<br>\nThis is exactly the same issue as <a href=\"https://github.com/mdn/content/issues/7840\" data-hovercard-type=\"issue\" data-hovercard-url=\"/mdn/content/issues/7840/hovercard\">7840</a></p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">Different example classes. For consistence can be the same as in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/class\" rel=\"nofollow\"><code class=\"notranslate\">class</code> statement</a>.</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://github.com/mdn/content/issues/7840\" data-hovercard-type=\"issue\" data-hovercard-url=\"/mdn/content/issues/7840/hovercard\">The same issue in the documentation of <code class=\"notranslate\">class</code> statement</a>.</p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/inheritance_and_the_prototype_chain</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/inheritance_and_the_prototype_chain/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/inheritance_and_the_prototype_chain/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/d85a7ba8cca98c2f6cf67a0c44f0ffd467532f20/hovercard\" href=\"https://github.com/mdn/content/commit/d85a7ba8cca98c2f6cf67a0c44f0ffd467532f20\"><tt>d85a7ba</tt></a></li>\n<li>Document last modified: 2023-04-05T04:57:48.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/26110",
            "title": "[ecmascript] Issue with inheritance with classes: examples are an anti-pattern ",
            "date_modified": "2023-04-11T08:18:24.000Z",
            "author": {
                "name": "TrangOul",
                "url": "https://github.com/TrangOul"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/26048",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">The paragraph that contains the following text:</p>\n<blockquote>\n<p dir=\"auto\">The <code class=\"notranslate\">focus()</code> method of the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowClient\" rel=\"nofollow\"><code class=\"notranslate\">WindowClient</code></a> interface gives user input focus to the current client and returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow\"><code class=\"notranslate\">Promise</code></a> that resolves to the existing <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowClient\" rel=\"nofollow\"><code class=\"notranslate\">WindowClient</code></a>.</p>\n</blockquote>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">It should be also stated that it will only work when the user clicked on a notification, and only during the click handler. Also, you can only call either <code class=\"notranslate\">openWindow()</code> or <code class=\"notranslate\">focus()</code>, but not both, and only once.</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://stackoverflow.com/a/34250261\" rel=\"nofollow\">https://stackoverflow.com/a/34250261</a></p>\n<blockquote>\n<p dir=\"auto\">Your code works fine for me, so I'll explain the requirements for using <code class=\"notranslate\">openWindow</code> / <code class=\"notranslate\">focus</code>, and how you can avoid the \"Not allowed to [open|focus] a window\" error message.</p>\n<p dir=\"auto\"><code class=\"notranslate\">clients.openWindow()</code> and <code class=\"notranslate\">windowClient.focus()</code> are only allowed after clicking the notification (in Chrome 47 at least), and at most <strong>one</strong> of these methods can be called, for the duration of the click handler. This behavior was specified in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"54457137\" data-permission-text=\"Title is private\" data-url=\"https://github.com/w3c/ServiceWorker/issues/602\" data-hovercard-type=\"issue\" data-hovercard-url=\"/w3c/ServiceWorker/issues/602/hovercard\" href=\"https://github.com/w3c/ServiceWorker/issues/602\">w3c/ServiceWorker#602</a>.</p>\n<p dir=\"auto\">If your <code class=\"notranslate\">openWindow</code> / <code class=\"notranslate\">focus</code> call is rejected with error message</p>\n<blockquote>\n<p dir=\"auto\">\"Not allowed to open a window.\" for <code class=\"notranslate\">openWindow</code><br>\n\"Not allowed to focus a window.\" for <code class=\"notranslate\">focus</code></p>\n</blockquote>\n<p dir=\"auto\">then you didn't satisfy the requirements of <code class=\"notranslate\">openWindow</code> / <code class=\"notranslate\">focus</code>. For example (all points also apply to <code class=\"notranslate\">focus</code>, not just <code class=\"notranslate\">openWindow</code>).</p>\n<ul dir=\"auto\">\n<li><code class=\"notranslate\">openWindow</code> was called while the notification wasn't clicked.</li>\n<li><code class=\"notranslate\">openWindow</code> was called after the <code class=\"notranslate\">notificationclick</code> handler returned, and you did not call <code class=\"notranslate\">event.waitUntil</code> with a promise.</li>\n<li><code class=\"notranslate\">openWindow</code> was called after the promise passed to <code class=\"notranslate\">event.waitUntil</code> was resolved.</li>\n<li>The promise was not resolved, but it took \"too long\" ([10 seconds in Chrome][1]), so the temporary permission to call <code class=\"notranslate\">openWindow</code> expired.</li>\n</ul>\n<p dir=\"auto\">It is really necessary that <code class=\"notranslate\">openWindow</code> / <code class=\"notranslate\">focus</code> is called at most once, and before the <code class=\"notranslate\">notificationclick</code> handler finishes.</p>\n</blockquote>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/api/windowclient/focus</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/windowclient/focus/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/api/windowclient/focus/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/73b724ad82b94d2a4c314924218367cea2740e97/hovercard\" href=\"https://github.com/mdn/content/commit/73b724ad82b94d2a4c314924218367cea2740e97\"><tt>73b724a</tt></a></li>\n<li>Document last modified: 2023-03-16T15:51:10.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/26048",
            "title": "[ecmascript, service-workers-1] Please specify that `openWindow()` and `focus()` only works when the user clicked on a notification",
            "date_modified": "2023-04-08T11:59:21.000Z",
            "author": {
                "name": "adriancuadrado",
                "url": "https://github.com/adriancuadrado"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/25569",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Examples</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<p dir=\"auto\">The examples access values from WebAssembly using <code class=\"notranslate\">new Uint32Array</code>:</p>\n<div class=\"highlight highlight-source-js notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"  const summands = new Uint32Array(memory.buffer);\n...\n  const values = new Uint32Array(obj.instance.exports.memory.buffer);\"><pre class=\"notranslate\">  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">summands</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Uint32Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">memory</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">buffer</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n...\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">values</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-v\">Uint32Array</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">obj</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">instance</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">exports</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">memory</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">buffer</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p dir=\"auto\">However in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array\" rel=\"nofollow\">Uint32Array docs</a> it says:</p>\n<blockquote>\n<p dir=\"auto\">The Uint32Array typed array represents an array of 32-bit unsigned integers in the platform byte order. If control over byte order is needed, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\" rel=\"nofollow\">DataView</a> instead.</p>\n</blockquote>\n<p dir=\"auto\">(This is backed up by the ECMAScript spec: <a href=\"https://tc39.es/ecma262/#sec-properties-of-typedarray-instances\" rel=\"nofollow\">Typed Arrays are integer-indexed exotic objects</a>, <a href=\"https://tc39.es/ecma262/#sec-integer-indexed-exotic-objects-get-p-receiver\" rel=\"nofollow\">which have the [[Get]] internal method</a>, which calls <a href=\"https://tc39.es/ecma262/#sec-integerindexedelementget\" rel=\"nofollow\">IntegerIndexedElementGet</a>, which calls <a href=\"https://tc39.es/ecma262/#sec-getvaluefrombuffer\" rel=\"nofollow\">GetValueFromBuffer</a>, which uses the platforms endianness in steps 8 and 9.)</p>\n<p dir=\"auto\">However the <a href=\"https://webassembly.github.io/spec/core/syntax/instructions.html?highlight=endian#memory-instructions\" rel=\"nofollow\">WebAssembly docs</a> say:</p>\n<blockquote>\n<p dir=\"auto\">All values are read and written in <em><strong>little endian</strong></em> byte order.</p>\n</blockquote>\n<p dir=\"auto\">So it appears that the example will return incorrect results on big-endian systems.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">An example using a <code class=\"notranslate\">DataView.setInt32(byteOffset, value, littleEndian)</code> instead.</p>\n<p dir=\"auto\">Exposing endian-ness like this has worrying implications for web page portability.<br>\nIf this is a real portability pitfall, there should be warnings about it on the WebAssembly.memory and TypedArray pages.</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\">I've already seen this pattern proliferating in several other places, such as:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://crates.io/crates/wasm-bindgen\" rel=\"nofollow\">wasm-bindgen</a> (I think)</li>\n<li>Tutorials <a href=\"https://ariya.io/2019/05/basics-of-memory-access-in-webassembly\" rel=\"nofollow\">1</a> <a href=\"https://www.oreilly.com/library/view/webassembly-the-definitive/9781492089834/ch04.html\" rel=\"nofollow\">2</a> <a href=\"https://rob-blackbourn.github.io/blog/webassembly/wasm/array/arrays/javascript/c/2020/06/07/wasm-arrays.html\" rel=\"nofollow\">3</a></li>\n<li>Questions <a href=\"https://groups.google.com/g/teavm/c/BlO4lkGNi40\" rel=\"nofollow\">1</a> <a href=\"https://stackoverflow.com/questions/41875728/pass-a-javascript-array-as-argument-to-a-webassembly-function\" rel=\"nofollow\">2</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API\" rel=\"nofollow\">MDN: Using the WebAssembly Javascript API</a></li>\n<li><a href=\"https://webassembly.org/getting-started/js-api/\" rel=\"nofollow\">webassembly.org: Understanding the JS API</a></li>\n</ul>\n<p dir=\"auto\">So the amount of code already using this buggy pattern is already probably quite large.</p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\">Perhaps javascript could use a <code class=\"notranslate\">LittleEndianTypedArray</code> or similar. And maybe <code class=\"notranslate\">new Uint32Array(wasmmemory.buffer)</code> should throw a type error, only allowing <code class=\"notranslate\">Uint8Array</code> and <code class=\"notranslate\">Int8Array</code>.</p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/webassembly/javascript_interface/memory</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/WebAssembly/JavaScript_interface/Memory</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/webassembly/javascript_interface/memory/index.md\">https://github.com/mdn/content/blob/main/files/en-us/webassembly/javascript_interface/memory/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/fe898ddf33314ee129256c3862c5c53106eeec1f/hovercard\" href=\"https://github.com/mdn/content/commit/fe898ddf33314ee129256c3862c5c53106eeec1f\"><tt>fe898dd</tt></a></li>\n<li>Document last modified: 2023-02-23T10:05:41.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/25569",
            "title": "[ecmascript] Accessing WebAssembly memory using TypedArrays is incorrect on Big Endian systems",
            "date_modified": "2023-03-23T12:09:31.000Z",
            "author": {
                "name": "majaha",
                "url": "https://github.com/majaha"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/24177",
            "content_html": "<h3 dir=\"auto\">MDN URL</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></p>\n<h3 dir=\"auto\">What specific section or headline is this issue about?</h3>\n<p dir=\"auto\">Control flow effects of await</p>\n<h3 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h3>\n<blockquote>\n<p dir=\"auto\">...all code that depends on the expression's value is paused and pushed into the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\" rel=\"nofollow\">microtask queue</a>.</p>\n</blockquote>\n<p dir=\"auto\"><code class=\"notranslate\">await</code> does not inherently push anything into the microtask queue, at least not unless the promise being awaited is already settled.  The microtask queue is where promise tasks go after the promise is settled. <code class=\"notranslate\">await</code> simply pauses the function. The microtask of resuming the function is added to the queue when the promise ultimately settles.</p>\n<p dir=\"auto\">The \"microtask queue\" link to the EventLoop page also has no mention of the microtask queue.</p>\n<blockquote>\n<p dir=\"auto\">The main thread is then freed for the next task in the event loop. This happens even if the awaited value is an already-resolved promise or not a promise.</p>\n</blockquote>\n<p dir=\"auto\">This only happens if the promise is not already settled (or does not get settled within further execution of the current task). If settled, function continuation is added to the microtask queue and the current task of the event loop continues to run until its microtask queue is empty.  You can create an event loop-blocking async function demonstrating this</p>\n<div class=\"highlight highlight-source-ts notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"// blocks the event loop\nasync function loop(){\n  await Promise.resolve()\n  loop()\n}\nloop()\"><pre class=\"notranslate\"><span class=\"pl-c\">// blocks the event loop</span>\n<span class=\"pl-k\">async</span> <span class=\"pl-k\">function</span> <span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-smi\">Promise</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">resolve</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n  <span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-kos\">}</span>\n<span class=\"pl-en\">loop</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span></pre></div>\n<p dir=\"auto\">Despite the use of await, the main thread is not freed to run the next task.</p>\n<h3 dir=\"auto\">What did you expect to see?</h3>\n<p dir=\"auto\">A more accurate description await and its interactions with the task and microtask queues.</p>\n<p dir=\"auto\"><del>The microtask link is probably better directed to:</del><br>\n<del><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide</a></del><br>\n(see comment below)</p>\n<h3 dir=\"auto\">Do you have any supporting links, references, or citations?</h3>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide</a></p>\n<h3 dir=\"auto\">Do you have anything more you want to share?</h3>\n<p dir=\"auto\"><em>No response</em></p>\n<h3 dir=\"auto\">MDN metadata</h3>\n\n<details>\n<summary>Page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/operators/await</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/await/index.md</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/0e1f404f68142031b8f8d663af15ed6902352256/hovercard\" href=\"https://github.com/mdn/content/commit/0e1f404f68142031b8f8d663af15ed6902352256\"><tt>0e1f404</tt></a></li>\n<li>Document last modified: 2022-12-27T01:31:43.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/24177",
            "title": "[ecmascript] Misleading information around await's interaction with microtask/task queues",
            "date_modified": "2023-02-05T16:19:19.000Z",
            "author": {
                "name": "senocular",
                "url": "https://github.com/senocular"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/19220",
            "content_html": "<h2 dir=\"auto\">What is the new suggestion?</h2>\n<p dir=\"auto\">Document <a href=\"https://github.com/tc39/proposal-import-assertions\">import assertions</a>.</p>\n<h2 dir=\"auto\">Why is it important or useful?</h2>\n<p dir=\"auto\"><a href=\"https://v8.dev/features/import-assertions\" rel=\"nofollow\">Already shipped in V8 for over a year.</a> JSON modules have been unflagged in Node so a lot of people are starting to rely on it. Need more information on its syntax and semantics.</p>\n<p dir=\"auto\">Very importantly, import assertions do not change the semantics of the module itself—it cannot affect how the module is interpreted, nor can it be used as part of the cache key. Virtually all existing toolings, except JSON modules themselves (<code class=\"notranslate\">assert { type: \"json\" }</code>), that try to extend import assertions are using them in a spec-incompliant way. (TBH, that to me means the proposal is designed poorly.) We need to call that out.</p>\n<p dir=\"auto\">We just need a new section under <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a>, but with so many additions to JavaScript modules in the future, it may make sense to start a new reference chapter like \"modules\", parallel to the existing \"classes\" and \"functions\" chapters...</p>\n<h2 dir=\"auto\">Other supporting information</h2>\n<ul dir=\"auto\">\n<li>Spec draft: <a href=\"https://tc39.es/proposal-import-assertions/\" rel=\"nofollow\">https://tc39.es/proposal-import-assertions/</a></li>\n<li>Proposal: <a href=\"https://github.com/tc39/proposal-import-assertions\">https://github.com/tc39/proposal-import-assertions</a></li>\n<li>This is a sibling proposal of <a href=\"https://github.com/tc39/proposal-json-modules\">JSON modules</a>, so we should probably mention that as well.</li>\n<li>Only after this proposal does <code class=\"notranslate\">import()</code> have a second parameter and therefore optional trailing comma. <code class=\"notranslate\">import(\"foo\",)</code> works in Chrome but is a syntax error in Safari/Firefox. We need to add this to BCD and the trailing commas page: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas</a></li>\n</ul>",
            "url": "https://github.com/mdn/content/issues/19220",
            "title": "[ecmascript] Document import assertions",
            "date_modified": "2022-08-06T05:08:53.000Z",
            "author": {
                "name": "Josh-Cena",
                "url": "https://github.com/Josh-Cena"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/9974",
            "content_html": "<h2 dir=\"auto\">What page(s) did you find the problem on?</h2>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/error\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/FileReader/error</a> says:</p>\n<blockquote>\n<p dir=\"auto\">In Chrome 48+/Firefox 58+ this property returns a DOMException because DOMError has been removed from the DOM standard.</p>\n</blockquote>\n<p dir=\"auto\"><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof#regular_expressions\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof#regular_expressions</a> says:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"typeof /s/ === 'function'; // Chrome 1-12 Non-conform to ECMAScript 5.1\ntypeof /s/ === 'object';   // Firefox 5+  Conform to ECMAScript 5.1\"><pre lang=\"js\" class=\"notranslate\"><code class=\"notranslate\">typeof /s/ === 'function'; // Chrome 1-12 Non-conform to ECMAScript 5.1\ntypeof /s/ === 'object';   // Firefox 5+  Conform to ECMAScript 5.1\n</code></pre></div>\n<h2 dir=\"auto\">What is the problem?</h2>\n<p dir=\"auto\">Information about quirks in very old browser releases seems like a net negative for readers of MDN. It will require readers to make a judgement about whether this could affect them, by testing or looking at release dates for the browsers.</p>\n<h2 dir=\"auto\">What did you expect to see?</h2>\n<p dir=\"auto\">Irrelevant information should be pruned from MDN after some time. Perhaps some special markup could be used when referring to a specific browser version, so that tools could be written to list information about browser releases too old to be relevant. Such cleanup happens to some extent in BCD, around irrelevant features removed from all browsers for more than 2 years, and also old flag data.</p>\n<h2 dir=\"auto\">Did you test this? If so, how?</h2>\n<p dir=\"auto\">Searching for \"Chrome \" + a number of any other browser followed by a number can find many examples like these.</p>",
            "url": "https://github.com/mdn/content/issues/9974",
            "title": "[ecmascript, FileAPI] Clean up irrelevant notes about old browser releases",
            "date_modified": "2021-10-21T07:48:17.000Z",
            "author": {
                "name": "foolip",
                "url": "https://github.com/foolip"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/5006",
            "content_html": "<p dir=\"auto\">MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a></p>\n<h4 dir=\"auto\">What information was incorrect, unhelpful, or incomplete?</h4>\n<p dir=\"auto\">I didn't know where exactly to post the issue. I went for \"this\" cause the value of \"this\" is strictly related to the execution context.</p>\n<h4 dir=\"auto\">Specific section or headline?</h4>\n<h4 dir=\"auto\">What did you expect to see?</h4>\n<h4 dir=\"auto\">Did you test this? If so, how?</h4>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul dir=\"auto\">\n<li>Folder: <code class=\"notranslate\">en-us/web/javascript/reference/operators/this</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/this/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/javascript/reference/operators/this/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/13360cbad46b4ce6457f80492d73d2efd252e8a9/hovercard\" href=\"https://github.com/mdn/content/commit/13360cbad46b4ce6457f80492d73d2efd252e8a9\"><tt>13360cb</tt></a></li>\n<li>Document last modified: 2021-05-05T10:31:52.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/5006",
            "title": "[ecmascript] Need a page on Execution context",
            "date_modified": "2021-05-14T18:14:38.000Z",
            "author": {
                "name": "552020",
                "url": "https://github.com/552020"
            }
        }
    ]
}