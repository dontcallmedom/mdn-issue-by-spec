{
    "version": "https://jsonfeed.org/version/1",
    "title": "WHATWG Fetch Workstream-relevant MDN issues",
    "home_page_url": "https://dontcallmedom.github.io/mdn-issue-by-spec/whatwg_fetch_workstream.rss",
    "description": "Issue filed on MDN Web Docs related to pages attached to technologies developed by WHATWG Fetch Workstream",
    "author": {
        "name": "mdn-issue-by-spec",
        "url": "https://github.com/dontcallmedom/mdn-issue-by-spec"
    },
    "items": [
        {
            "id": "https://github.com/mdn/content/issues/5545",
            "content_html": "<p>MDN URL: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch\">https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch</a></p>\n<h4>What information was incorrect, unhelpful, or incomplete?</h4>\n<p>In the page about the <code>fetch</code> method, I think the description of the <code>TypeError</code> exception is incomplete.</p>\n<p>At <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#exceptions\">https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#exceptions</a> under <code>TypeError</code></p>\n<p>The description says:</p>\n<p><code>The specified URL string includes user credentials. This information should instead be provided using an Authorization header.</code></p>\n<h4>Specific section or headline?</h4>\n<p>At <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#exceptions\">https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#exceptions</a> under <code>TypeError</code></p>\n<p>Corresponding to these source lines on github <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/windoworworkerglobalscope/fetch/index.html#L149-L151\">fetch/index.html#L149-L151</a></p>\n<h4>What did you expect to see?</h4>\n<p>I think that it would be useful to mention that <code>fetch</code> can reject with a <code>TypeError</code> due to a ill-formed request or a network error.</p>\n<p>If I am reading it correctly, it is part of the spec <a rel=\"nofollow\" href=\"https://fetch.spec.whatwg.org/#fetch-method\">https://fetch.spec.whatwg.org/#fetch-method</a>:</p>\n<p>at step <code>2</code></p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"Let requestObject be the result of invoking the initial value of Request as constructor with input and init as arguments. If this throws an exception, reject p with it and return p.\n\"><pre><code>Let requestObject be the result of invoking the initial value of Request as constructor with input and init as arguments. If this throws an exception, reject p with it and return p.\n</code></pre></div>\n<p>and <code>12.3</code></p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"If response is a network error, then reject p with a TypeError and terminate these substeps.\n\"><pre><code>If response is a network error, then reject p with a TypeError and terminate these substeps.\n</code></pre></div>\n<p>Maybe something along these lines could work:</p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"TypeError\n    There are several reason fetch can be interrupted with a `TypeError`:\n    - it was not possible to build a `Request` object with the provided parameters (e.g. malformed url)\n    - the request was interrupted due to a network error \n    - ... other reasons for fetch to reject with TypeError ... \n\"><pre><code>TypeError\n    There are several reason fetch can be interrupted with a `TypeError`:\n    - it was not possible to build a `Request` object with the provided parameters (e.g. malformed url)\n    - the request was interrupted due to a network error \n    - ... other reasons for fetch to reject with TypeError ... \n</code></pre></div>\n<h4>Did you test this? If so, how?</h4>\n<p>In the developer console of <code>Microsoft Edge Version 91.0.864.37 (Official build) (64-bit)</code></p>\n<p>I made a <code>fetch</code> request to a <code>localhost</code> on a closed port and checked the rejection error</p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"fetch(&quot;http://localhost:8080&quot;).catch(err =&gt; console.log(err));\n\"><pre><code>fetch(\"http://localhost:8080\").catch(err =&gt; console.log(err));\n</code></pre></div>\n<p>With result</p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"&gt; TypeError: Failed to fetch\n\"><pre><code>&gt; TypeError: Failed to fetch\n</code></pre></div>\n<p>Then I made a fetch request to a malformed url</p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"fetch(&quot;k2143rjhttp://localhost:9999/hello&quot;).catch(err =&gt; console.log(err))\n\"><pre><code>fetch(\"k2143rjhttp://localhost:9999/hello\").catch(err =&gt; console.log(err))\n</code></pre></div>\n<p>With result</p>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"&gt; TypeError: Failed to fetch\n\"><pre><code>&gt; TypeError: Failed to fetch\n</code></pre></div>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul>\n<li>Folder: <code>en-us/web/api/windoworworkerglobalscope/fetch</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/windoworworkerglobalscope/fetch/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/api/windoworworkerglobalscope/fetch/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/94c536f9b3a50303a85e7963a4ff4958d1aec382/hovercard\" href=\"https://github.com/mdn/content/commit/94c536f9b3a50303a85e7963a4ff4958d1aec382\"><tt>94c536f</tt></a></li>\n<li>Document last modified: 2021-05-31T17:13:02.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/5545",
            "title": "[fetch] Issue with \"WindowOrWorkerGlobalScope.fetch()\": Incomplete description for `TypeError` ",
            "date_modified": "2021-06-01T14:47:27.000Z",
            "author": {
                "name": "chq-matteo",
                "url": "https://github.com/chq-matteo"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/3937",
            "content_html": "<h2>What is the new suggestion?</h2>\n<p>The <code>Headers.forEach( )</code> is missing documentation <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/Headers\">https://developer.mozilla.org/en-US/docs/Web/API/Headers</a></p>\n<h2>Why is it important or useful?</h2>\n<p>The callback seems to receive value, key instead of key, value. The programmer might or might not get this right without documentation. We need one page explaining the type of the forEach method. I imagine some page for a similar method could be used as a starting point. Might still take an hour or two to verify that this method follows te same behaviour. Adding this would reduce the amount of mistakes related to expecting the reversed callback argument order.</p>",
            "url": "https://github.com/mdn/content/issues/3937",
            "title": "[fetch] Content suggestion: Document Headers.forEach()",
            "date_modified": "2021-04-08T10:01:22.000Z",
            "author": {
                "name": "cyberixae",
                "url": "https://github.com/cyberixae"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/1579",
            "content_html": "<p>According to  <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"628812335\" data-permission-text=\"Title is private\" data-url=\"https://github.com/mdn/sprints/issues/3327\" data-hovercard-type=\"issue\" data-hovercard-url=\"/mdn/sprints/issues/3327/hovercard\" href=\"https://github.com/mdn/sprints/issues/3327\">mdn/sprints#3327</a> we have ~1100 pages directly under Web/API.</p>\n<p>I believe that every page directly under Web/API must be one of:</p>\n<ol>\n<li>an API overview page, e.g. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API</a></li>\n<li>an interface page, e.g. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Request\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/Request</a></li>\n<li>a dictionary page, e.g. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/AesGcmParams\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/AesGcmParams</a></li>\n</ol>\n<p>While it's hard to tell which pages are in group (1), a reasonable heuristic seems to be: if the title contains a space, the page is an API overview page. But that heuristic we have about 100 API overview pages, leaving about 1000 others.</p>\n<p>As far as I know, all the others ought to be either interface pages or dictionary pages, so ought to be listed in <a href=\"https://github.com/mdn/kumascript/blob/master/macros/GroupData.json\">GroupData.json</a>. In fact, ~250 of these pages are not listed in GroupData.</p>\n<p>Additionally, some interfaces/dictionaries appear under more than one group in GroupData. I believe that this should not be allowed.</p>\n<p>So we should:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tag API overview pages, so we know exactly which ones they have</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> ensure all API overview pages have a corresponding entry in GroupData.json</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tag all dictionary pages</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> ensure all dictionary pages are listed under an entry in GroupData.json</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> tag all interface pages</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> ensure all interface pages are listed under an entry in GroupData.json</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> relocate or delete any other pages that aren't in one of these three categories</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" id=\"\" disabled=\"\" class=\"task-list-item-checkbox\"> remove any duplicate interface/dictionary entries from GroupData</li>\n</ul>",
            "url": "https://github.com/mdn/content/issues/1579",
            "title": "[fetch] Rationalize top-level Web API pages",
            "date_modified": "2020-08-10T22:01:58.000Z",
            "author": {
                "name": "wbamberg",
                "url": "https://github.com/wbamberg"
            }
        }
    ]
}