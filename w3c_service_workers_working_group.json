{
    "version": "https://jsonfeed.org/version/1",
    "title": "W3C Service Workers Working Group-relevant MDN issues",
    "home_page_url": "https://dontcallmedom.github.io/mdn-issue-by-spec/w3c_service_workers_working_group.rss",
    "description": "Issue filed on MDN Web Docs related to pages attached to technologies developed by W3C Service Workers Working Group",
    "author": {
        "name": "mdn-issue-by-spec",
        "url": "https://github.com/dontcallmedom/mdn-issue-by-spec"
    },
    "items": [
        {
            "id": "https://github.com/mdn/content/issues/7913",
            "content_html": "<p>MDN URL: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys\">https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys</a></p>\n<h4>What information was incorrect, unhelpful, or incomplete?</h4>\n<div class=\"snippet-clipboard-content position-relative\" data-snippet-clipboard-copy-content=\"this.addEventListener('activate', function(event) {\n  var cacheWhitelist = ['v2'];\n\n  event.waitUntil(\n    caches.keys().then(function(keyList) {\n      return Promise.all(keyList.map(function(key) {\n        if (cacheWhitelist.indexOf(key) === -1) {\n          return caches.delete(key);\n        }\n      }); // &lt;- missing ) at this line.\n    })\n  );\n});\n\"><pre><code>this.addEventListener('activate', function(event) {\n  var cacheWhitelist = ['v2'];\n\n  event.waitUntil(\n    caches.keys().then(function(keyList) {\n      return Promise.all(keyList.map(function(key) {\n        if (cacheWhitelist.indexOf(key) === -1) {\n          return caches.delete(key);\n        }\n      }); // &lt;- missing ) at this line.\n    })\n  );\n});\n</code></pre></div>\n<h4>Specific section or headline?</h4>\n<h4>What did you expect to see?</h4>\n<h4>Did you test this? If so, how?</h4>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul>\n<li>Folder: <code>en-us/web/api/cachestorage/keys</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/cachestorage/keys/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/api/cachestorage/keys/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/52cb33d18729b3664a8d146c0ad23648790dc5dc/hovercard\" href=\"https://github.com/mdn/content/commit/52cb33d18729b3664a8d146c0ad23648790dc5dc\"><tt>52cb33d</tt></a></li>\n<li>Document last modified: 2021-06-11T14:43:07.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/7913",
            "title": "[service-workers-1] Issue with \"CacheStorage.keys()\": (missing ')' in example)",
            "date_modified": "2021-08-14T06:30:10.000Z",
            "author": {
                "name": "ulvido",
                "url": "https://github.com/ulvido"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/7760",
            "content_html": "<p>MDN URL: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache</a></p>\n<h4>What information was incorrect, unhelpful, or incomplete?</h4>\n<p>This is not a method, it's a string typed property</p>\n<h4>Specific section or headline?</h4>\n<p>all</p>\n<h4>What did you expect to see?</h4>\n<p>Description of property. It reflects the value of updateViaCache property of the options-Parameter in register(). The value of the property affects the behaviour of a ServiceWorker update.</p>\n<h4>Did you test this? If so, how?</h4>\n<p>(1) Register a serviceworker, set a breakpoint, inspect the ServiceWorkerRegistration object<br>\n(2) Read the spec - V1 and nightly</p>\n<p>Sorry that I don't create a pull request. But I don't want to become a MDN author, because of lack of expertise AND time.</p>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul>\n<li>Folder: <code>en-us/web/api/serviceworkerregistration/updateviacache</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworkerregistration/updateviacache/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworkerregistration/updateviacache/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/cad672e1d7ab78a63f60a5d79914520b1486b534/hovercard\" href=\"https://github.com/mdn/content/commit/cad672e1d7ab78a63f60a5d79914520b1486b534\"><tt>cad672e</tt></a></li>\n<li>Document last modified: 2021-07-29T14:32:30.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/7760",
            "title": "[service-workers-1] Issue with \"ServiceWorkerRegistration.updateViaCache\": (short summary here please)",
            "date_modified": "2021-08-09T11:52:16.000Z",
            "author": {
                "name": "Rolf-B",
                "url": "https://github.com/Rolf-B"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/7593",
            "content_html": "<p>MDN URL: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker</a></p>\n<h4>What information was incorrect, unhelpful, or incomplete?</h4>\n<p>You claim that ServiceWorker inherits from Worker. The spec says otherwise, it inherits from EventTarget. A ServiceWorker <strong>is not</strong> a Worker. Messages arrive at the ServiceWorkerGlobalScope, not the ServiceWorker itself. Yes, it's strange, but that's what the spec says.</p>\n<h4>Specific section or headline?</h4>\n<ul>\n<li>Properties<br>\nThe ServiceWorker interface inherits properties from its parent, Worker.</li>\n</ul>\n<p><em>The error isn't obvious, because Worker has no own properties and inherits them from EventTarget, but Worker is still not the parent</em></p>\n<ul>\n<li>\n<p>Methods<br>\nThe ServiceWorker interface inherits methods from its parent, Worker, with the exception of Worker.terminate</p>\n<ul>\n<li><em>As far as I know, selective inheritance is not a thing in IDL or JavaScript</em></li>\n<li><em>Yes, Worker has a postMessage and a terminate method, and ServiceWorker has a postMessage method. But no, ServiceWorker doesn't inherit it. The procedures in the HTML and ServiceWorker specs are similar, but not identical.</em></li>\n</ul>\n</li>\n</ul>\n<h4>What did you expect to see?</h4>\n<p>A description that conforms to the spec. But I'm not familiar enough with the topic to rewrite this.</p>\n<h4>Did you test this? If so, how?</h4>\n<p>I checked the prototype chain in Chrome DevTools. It's ServiceWorker -&gt; EventTarget</p>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul>\n<li>Folder: <code>en-us/web/api/serviceworker</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworker/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworker/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/642d6eb7feb73e17cfc1ef61d3d09c2d200e65ca/hovercard\" href=\"https://github.com/mdn/content/commit/642d6eb7feb73e17cfc1ef61d3d09c2d200e65ca\"><tt>642d6eb</tt></a></li>\n<li>Document last modified: 2021-06-17T03:52:55.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/7593",
            "title": "[service-workers-1] Issue with \"ServiceWorker\": wrong parentage; should explicitly list postMessage() ",
            "date_modified": "2021-08-04T17:16:23.000Z",
            "author": {
                "name": "Rolf-B",
                "url": "https://github.com/Rolf-B"
            }
        },
        {
            "id": "https://github.com/mdn/content/issues/7138",
            "content_html": "<p>MDN URL: <a rel=\"nofollow\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register</a></p>\n<h4>What information was incorrect, unhelpful, or incomplete?</h4>\n<p>I assumed (wrongly) from this that registering an already-registered worker would be a no-op. It turns out that it at least causes a network request for the worker, and that request doesn't go via the cache even if you have <code>updateViaCache: 'all'</code> (which makes sense). So regardless of your update mode, not checking for an existing registration will cause extra server load.</p>\n<h4>Specific section or headline?</h4>\n<blockquote>\n<p>You can call this method unconditionally from the controlled page. I.e., you don't need to first check whether there's an active registration.</p>\n</blockquote>\n<h4>What did you expect to see?</h4>\n<p>More detailed info about why I might <em>want</em> to check for an existing registration, even if I don't <em>need</em> to.</p>\n<h4>Did you test this? If so, how?</h4>\n<p>Yes, looking at request headers in Fiddler.</p>\n\n<details>\n<summary>MDN Content page report details</summary>\n<ul>\n<li>Folder: <code>en-us/web/api/serviceworkercontainer/register</code></li>\n<li>MDN URL: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register</a></li>\n<li>GitHub URL: <a href=\"https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworkercontainer/register/index.html\">https://github.com/mdn/content/blob/main/files/en-us/web/api/serviceworkercontainer/register/index.html</a></li>\n<li>Last commit: <a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/mdn/content/commit/642d6eb7feb73e17cfc1ef61d3d09c2d200e65ca/hovercard\" href=\"https://github.com/mdn/content/commit/642d6eb7feb73e17cfc1ef61d3d09c2d200e65ca\"><tt>642d6eb</tt></a></li>\n<li>Document last modified: 2021-06-17T03:52:55.000Z</li>\n</ul>\n</details>",
            "url": "https://github.com/mdn/content/issues/7138",
            "title": "[service-workers-1] Issue with \"ServiceWorkerContainer.register()\": may be advisable to check for an existing registration",
            "date_modified": "2021-07-21T16:35:44.000Z",
            "author": {
                "name": "robatwilliams",
                "url": "https://github.com/robatwilliams"
            }
        }
    ]
}